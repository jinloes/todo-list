<article style="height:100%;" class="slds-card">
  <div class="slds-card__header slds-grid">
    <header class="slds-media slds-media_center slds-has-flexi-truncate">
      <div class="slds-media__figure">
          <span class="slds-icon_container slds-icon-standard-task" title="task">
            <svg class="slds-icon slds-page-header__icon" aria-hidden="true">
              <use xmlns:xlink="http://www.w3.org/1999/xlink"
                   xlink:href="/assets/icons/standard-sprite/svg/symbols.svg#task"/>
            </svg>
            <span class="slds-assistive-text">task</span>
          </span>
      </div>
      <div class="slds-media__body">
        <h2 class="slds-card__header-title">
          <span class="slds-card__header-link slds-truncate" title="Tasks">Tasks</span>
        </h2>
      </div>
      <div class="slds-page-header__col-actions">
        <div class="slds-page-header__controls">
          <div class="slds-page-header__control">
            <ul class="slds-button-group-list">
              <li>
                <button class="slds-button slds-button_neutral" (click)="openNew()">New</button>
              </li>
              <li>
                <div class="slds-dropdown-trigger slds-dropdown-trigger_click">
                  <button class="slds-button slds-button_icon slds-button_icon-border-filled" aria-haspopup="true"
                          title="More Actions">
                    <svg class="slds-button__icon" aria-hidden="true">
                      <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#down"></use>
                    </svg>
                    <span class="slds-assistive-text">More Actions</span>
                  </button>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </header>
  </div>
  <div class="slds-card__body slds-card__body_inner">
    <div class="slds-page-header__col-meta">
      <p class="slds-page-header__meta-text">{{totalTasks}} items â€¢ Updated {{timestamp | timeAgo}}</p>
    </div>
  </div>
  <div class="slds-card__body">
    <div class="slds-table_header-fixed_container" style="height:50vw;">
      <div class="slds-scrollable_y" style="height:100%;">
        <table aria-multiselectable="true"
               class="slds-table_bordered slds-max-medium-table_stacked-horizontal slds-table_fixed-layout
             slds-table--header-fixed" ngl-datatable [data]="taskList" trackByKey="rank" [loading]="loading">
          <ngl-datatable-column heading key headClass="table-index" cellClass="table-index">
            <ng-template nglDatatableHeading>
              <div class="slds-cell-fixed slds-col_padded table-index"></div>
            </ng-template>
            <ng-template nglDatatableCell let-index="index">
              <div class="slds-col_padded">
                {{index + 1}}
              </div>
            </ng-template>
          </ngl-datatable-column>
          <ngl-datatable-column heading key headClass="table-combo" cellClass="table-combo">
            <ng-template nglDatatableHeading>
              <div class="table-combo-header">
                <div class="slds-cell-fixed slds-col_padded slds-align_absolute-center">
                  <ngl-checkbox label="">
                    <input ngl id="check-all" type="checkbox" (click)="toggleCheckAll()">
                  </ngl-checkbox>
                </div>
              </div>
            </ng-template>
            <ng-template nglDatatableCell let-index="index" let-row="row">
              <div class="slds-col_padded">
                <ngl-checkbox label="" (click)="check(row)">
                  <input ngl id="checkbox-{{index}}" class="child-checkbox" [checked]="row.checked" type="checkbox">
                </ngl-checkbox>
              </div>
            </ng-template>
          </ngl-datatable-column>
          <ngl-datatable-column heading key="name" truncate>
            <ng-template nglDatatableHeading>
              <div class="slds-cell-fixed slds-col--padded slds-align_absolute-center">Name</div>
            </ng-template>
          </ngl-datatable-column>
          <ngl-datatable-column heading key="deadline" truncate>
            <ng-template nglDatatableHeading>
              <div class="slds-cell-fixed slds-col--padded slds-align_absolute-center">Deadline</div>
            </ng-template>
          </ngl-datatable-column>
          <!-- Loading overlay-->
          <ng-template nglLoadingOverlay>
            <div class="slds-box slds-box_small slds-theme_shade slds-text-align_center">Loading...</div>
          </ng-template>
          <!-- No rows overlay-->
          <ng-template nglNoRowsOverlay>No data available in table!</ng-template>
        </table>
      </div>
    </div>
  </div>
</article>
